<template name="header">
  <nav class="header-background navbar navbar-default" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="{{pathFor 'index'}}" style="margin-top: -3px;">
          <img src="pawprints.svg"/>
        </a>
        <button type="button"
                class="navbar-toggle"
                data-toggle="collapse"
                data-target="#nav-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse" id="nav-collapse" style="border: 0;">
        <ul class="nav navbar-nav navbar-right">
          <li class="{{ isActiveRoute 'postSubmit' }}">
            <a href="{{pathFor 'postSubmit'}}">
              <span class="glyphicon glyphicon-plus"></span>
              New Petition
            </a>
          </li>
          <li class="{{ isActiveRoute 'postsList' }}">
            <a href="{{pathFor 'postsList'}}">
              <span class="glyphicon glyphicon-th"></span>
              Petitions
            </a>
          </li>
          <li class="{{ isActiveRoute 'postsResponses' }}">
            <a href="{{pathFor 'postsResponses'}}">
              <span class="glyphicon glyphicon-comment"></span>
              Responses
            </a>
          </li>
          <li class="{{ isActiveRoute 'about' }}">
            <a href="{{pathFor 'about'}}">
              <span class="glyphicon glyphicon-info-sign"></span>
              About
            </a>
          </li>
          {{#if currentUser}}
            <li class="dropdown {{isActiveRoute 'admin'}} {{isActiveRoute 'userEdit'}}">
              <a href="#"
                 class="dropdown-toggle"
                 data-toggle="dropdown">
                 <span class="glyphicon glyphicon-user"></span>
                 {{currentUser.profile.givenName}}
                 <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" role="menu">
                {{#if isInRole 'admin'}}
                  <li class="{{ isActiveRoute 'admin' }}">
                    <a href="{{pathFor 'admin'}}">
                       Admin
                    </a>
                  </li>
                {{/if}}
                <li class="{{ isActiveRoute 'userEdit' }}">
                  <a href="{{pathFor 'userEdit'}}">
                     Profile
                  </a>
                </li>
                <li>
                  <a id="logout-button"
                     href="#">
                     Logout
                  </a> 
                </li>
              </ul>
            </li>
          {{else}}
            <li>
              <a href="#loginModal"
                 class="dropdown-toggle"
                 data-toggle="modal">
                 <span class="glyphicon glyphicon-user"></span>
                 Login
              </a>
            </li>
          {{/if}}
        </ul>
      </div>
    </div>
  </nav>
</template>